
python3 -m venv venv
+ python3 -m venv venv
venv/bin/python --version --version
+ venv/bin/python --version --version
Python 3.10.8 (main, Oct 15 2022, 17:48:51) [GCC 9.4.0]
#venv/bin/pip install coverage==6.5.0
venv/bin/pip install 'coverage @ git+https://github.com/nedbat/coveragepy@d20c1d0329b585920cf8b1a36af5d2d9c4bba155'
+ venv/bin/pip install 'coverage @ git+https://github.com/nedbat/coveragepy@d20c1d0329b585920cf8b1a36af5d2d9c4bba155'
Collecting coverage@ git+https://github.com/nedbat/coveragepy@d20c1d0329b585920cf8b1a36af5d2d9c4bba155
  Using cached coverage-7.0.0b2.dev1-cp310-cp310-linux_x86_64.whl
Installing collected packages: coverage
Successfully installed coverage-7.0.0b2.dev1

[notice] A new release of pip available: 22.2.2 -> 22.3.1
[notice] To update, run: /home/altendky/tmp/e/venv/bin/python3 -m pip install --upgrade pip

venv/bin/coverage debug sys
+ venv/bin/coverage debug sys
-- sys -------------------------------------------------------
               coverage_version: 7.0.0b2.dev1
                coverage_module: /home/altendky/tmp/e/venv/lib/python3.10/site-packages/coverage/__init__.py
                         tracer: -none-
                        CTracer: available
           plugins.file_tracers: -none-
            plugins.configurers: -none-
      plugins.context_switchers: -none-
              configs_attempted: .coveragerc
                                 setup.cfg
                                 tox.ini
                                 pyproject.toml
                   configs_read: -none-
                    config_file: None
                config_contents: -none-
                      data_file: -none-
                         python: 3.10.8 (main, Oct 15 2022, 17:48:51) [GCC 9.4.0]
                       platform: Linux-5.4.0-135-generic-x86_64-with-glibc2.31
                 implementation: CPython
                     executable: /home/altendky/tmp/e/venv/bin/python3
                   def_encoding: utf-8
                    fs_encoding: utf-8
                            pid: 61047
                            cwd: /home/altendky/tmp/e
                           path: /home/altendky/tmp/e/venv/bin
                                 /home/altendky/.pyenv/versions/3.10.8/lib/python310.zip
                                 /home/altendky/.pyenv/versions/3.10.8/lib/python3.10
                                 /home/altendky/.pyenv/versions/3.10.8/lib/python3.10/lib-dynload
                                 /home/altendky/tmp/e/venv/lib/python3.10/site-packages
                    environment: HOME = /home/altendky
                                 PYENV_ROOT = /home/altendky/.pyenv
                                 PYENV_SHELL = fish
                                 PYTHONDONTWRITEBYTECODE = 1
                                 PYTHON_CONFIGURE_OPTS = --enable-shared
                   command_line: venv/bin/coverage debug sys
         sqlite3_sqlite_version: 3.31.1
             sqlite3_temp_store: 0
        sqlite3_compile_options: COMPILER=gcc-9.4.0, ENABLE_COLUMN_METADATA, ENABLE_DBSTAT_VTAB,
                                 ENABLE_FTS3, ENABLE_FTS3_PARENTHESIS, ENABLE_FTS3_TOKENIZER, ENABLE_FTS4,
                                 ENABLE_FTS5, ENABLE_JSON1, ENABLE_LOAD_EXTENSION, ENABLE_PREUPDATE_HOOK,
                                 ENABLE_RTREE, ENABLE_SESSION, ENABLE_STMTVTAB, ENABLE_UNLOCK_NOTIFY,
                                 ENABLE_UPDATE_DELETE_LIMIT, HAVE_ISNAN, LIKE_DOESNT_MATCH_BLOBS,
                                 MAX_SCHEMA_RETRY=25, MAX_VARIABLE_NUMBER=250000, OMIT_LOOKASIDE,
                                 SECURE_DELETE, SOUNDEX, TEMP_STORE=1, THREADSAFE=1, USE_URI
venv/bin/pip freeze --all
+ venv/bin/pip freeze --all
coverage @ git+https://github.com/nedbat/coveragepy@d20c1d0329b585920cf8b1a36af5d2d9c4bba155
pip==22.2.2
setuptools==63.2.0

for label in no_source source source_pkgs
do
  venv/bin/coverage erase
  venv/bin/coverage run --rcfile coveragerc.${label} -m tests
  venv/bin/coverage xml --rcfile coveragerc.${label} -o coverage.${label}.xml
  cat coverage.${label}.xml
done
+ for label in no_source source source_pkgs
+ venv/bin/coverage erase
+ venv/bin/coverage run --rcfile coveragerc.no_source -m tests
in the package
True
in the tests
True
+ venv/bin/coverage xml --rcfile coveragerc.no_source -o coverage.no_source.xml
Wrote XML report to coverage.no_source.xml
+ cat coverage.no_source.xml
<?xml version="1.0" ?>
<coverage version="7.0.0b2.dev1" timestamp="1671205057420" lines-valid="9" lines-covered="9" line-rate="1" branches-covered="0" branches-valid="0" branch-rate="0" complexity="0">
	<!-- Generated by coverage.py: https://coverage.readthedocs.io/en/7.0.0b2.dev1 -->
	<!-- Based on https://raw.githubusercontent.com/cobertura/web/master/htdocs/xml/coverage-04.dtd -->
	<sources>
		<source></source>
	</sources>
	<packages>
		<package name="package" line-rate="1" branch-rate="0" complexity="0">
			<classes>
				<class name="__init__.py" filename="package/__init__.py" complexity="0" line-rate="1" branch-rate="0">
					<methods/>
					<lines>
						<line number="1" hits="1"/>
						<line number="2" hits="1"/>
						<line number="4" hits="1"/>
						<line number="5" hits="1"/>
					</lines>
				</class>
			</classes>
		</package>
		<package name="tests" line-rate="1" branch-rate="0" complexity="0">
			<classes>
				<class name="__init__.py" filename="tests/__init__.py" complexity="0" line-rate="1" branch-rate="0">
					<methods/>
					<lines>
						<line number="1" hits="1"/>
						<line number="3" hits="1"/>
						<line number="4" hits="1"/>
						<line number="6" hits="1"/>
						<line number="7" hits="1"/>
					</lines>
				</class>
				<class name="__main__.py" filename="tests/__main__.py" complexity="0" line-rate="1" branch-rate="0">
					<methods/>
					<lines/>
				</class>
			</classes>
		</package>
	</packages>
</coverage>
+ for label in no_source source source_pkgs
+ venv/bin/coverage erase
+ venv/bin/coverage run --rcfile coveragerc.source -m tests
in the package
True
in the tests
True
+ venv/bin/coverage xml --rcfile coveragerc.source -o coverage.source.xml
Wrote XML report to coverage.source.xml
+ cat coverage.source.xml
<?xml version="1.0" ?>
<coverage version="7.0.0b2.dev1" timestamp="1671205057646" lines-valid="9" lines-covered="9" line-rate="1" branches-covered="0" branches-valid="0" branch-rate="0" complexity="0">
	<!-- Generated by coverage.py: https://coverage.readthedocs.io/en/7.0.0b2.dev1 -->
	<!-- Based on https://raw.githubusercontent.com/cobertura/web/master/htdocs/xml/coverage-04.dtd -->
	<sources>
		<source>package</source>
		<source>tests</source>
	</sources>
	<packages>
		<package name="." line-rate="1" branch-rate="0" complexity="0">
			<classes>
				<class name="__init__.py" filename="__init__.py" complexity="0" line-rate="1" branch-rate="0">
					<methods/>
					<lines>
						<line number="1" hits="1"/>
						<line number="3" hits="1"/>
						<line number="4" hits="1"/>
						<line number="6" hits="1"/>
						<line number="7" hits="1"/>
					</lines>
				</class>
				<class name="__main__.py" filename="__main__.py" complexity="0" line-rate="1" branch-rate="0">
					<methods/>
					<lines/>
				</class>
			</classes>
		</package>
	</packages>
</coverage>
+ for label in no_source source source_pkgs
+ venv/bin/coverage erase
+ venv/bin/coverage run --rcfile coveragerc.source_pkgs -m tests
in the package
True
in the tests
True
+ venv/bin/coverage xml --rcfile coveragerc.source_pkgs -o coverage.source_pkgs.xml
Wrote XML report to coverage.source_pkgs.xml
+ cat coverage.source_pkgs.xml
<?xml version="1.0" ?>
<coverage version="7.0.0b2.dev1" timestamp="1671205057874" lines-valid="9" lines-covered="9" line-rate="1" branches-covered="0" branches-valid="0" branch-rate="0" complexity="0">
	<!-- Generated by coverage.py: https://coverage.readthedocs.io/en/7.0.0b2.dev1 -->
	<!-- Based on https://raw.githubusercontent.com/cobertura/web/master/htdocs/xml/coverage-04.dtd -->
	<sources>
		<source></source>
	</sources>
	<packages>
		<package name="package" line-rate="1" branch-rate="0" complexity="0">
			<classes>
				<class name="__init__.py" filename="package/__init__.py" complexity="0" line-rate="1" branch-rate="0">
					<methods/>
					<lines>
						<line number="1" hits="1"/>
						<line number="2" hits="1"/>
						<line number="4" hits="1"/>
						<line number="5" hits="1"/>
					</lines>
				</class>
			</classes>
		</package>
		<package name="tests" line-rate="1" branch-rate="0" complexity="0">
			<classes>
				<class name="__init__.py" filename="tests/__init__.py" complexity="0" line-rate="1" branch-rate="0">
					<methods/>
					<lines>
						<line number="1" hits="1"/>
						<line number="3" hits="1"/>
						<line number="4" hits="1"/>
						<line number="6" hits="1"/>
						<line number="7" hits="1"/>
					</lines>
				</class>
				<class name="__main__.py" filename="tests/__main__.py" complexity="0" line-rate="1" branch-rate="0">
					<methods/>
					<lines/>
				</class>
			</classes>
		</package>
	</packages>
</coverage>

#venv/bin/coverage erase
#venv/bin/coverage run -m tests
#venv/bin/coverage xml -o coverage.noconfig.xml
#cat coverage.noconfig.xml
#
#venv/bin/coverage erase
#venv/bin/coverage run --rcfile coveragerc.source -m tests
#venv/bin/coverage xml --rcfile coveragerc.source -o coverage.source.xml
#cat coverage.source.xml
#
#venv/bin/coverage erase
#venv/bin/coverage run --rcfile coveragerc.source_pkgs -m tests
#venv/bin/coverage xml --rcfile coveragerc.source_pkgs -o coverage.source_pkgs.xml
#cat coverage.source_pkgs.xml
